{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:34:35.084Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:34:35.159Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:34:35.171Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:34:35.174Z"}
{"level":"info","message":"Contract initialized: 5FL81Ugr5Fp8bhPThxNRNdKkykvSnSDwWDmjZDLSvSDuaQMB","timestamp":"2025-06-23T21:34:35.180Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:34:35.180Z"}
{"level":"error","message":"Failed to initialize template: Failed to load model file. Job: https://models.accordproject.org/time@0.3.0.cto Details: TypeError: fetch failed","stack":"Error: Failed to load model file. Job: https://models.accordproject.org/time@0.3.0.cto Details: TypeError: fetch failed\n    at t.PromisePoolExecutor.i [as errorHandler] (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:271398)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1384518\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 1)\n    at async t.PromisePoolExecutor.drainActiveTasks (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1384777)\n    at async t.PromisePoolExecutor.drained (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1384680)\n    at async t.PromisePoolExecutor.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1383436)\n    at async e.exports.updateExternalModels (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:5631)\n    at async m.fromDirectory (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1985905)\n    at async DraftService.initializeTemplate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:119:23)\n    at async DraftService.initialize (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:80:7)\n    at async DraftService.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:135:7)\n    at async main (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:622:5)","timestamp":"2025-06-23T21:34:35.506Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:38:43.848Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:38:43.909Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:38:43.921Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:38:43.921Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:38:43.927Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:38:43.927Z"}
{"level":"error","message":"Failed to initialize template: Empty script contents","stack":"Error: Empty script contents\n    at new e.exports (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1974553)\n    at e.exports.createScript (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1989610)\n    at e.exports.addLogicFile (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1969263)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986410\n    at Array.forEach (<anonymous>)\n    at m.fromDirectory (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986312)\n    at async DraftService.initializeTemplate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:119:23)\n    at async DraftService.initialize (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:80:7)\n    at async DraftService.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:135:7)\n    at async main (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:622:5)","timestamp":"2025-06-23T21:39:04.098Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:45:08.427Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:45:08.485Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:45:08.497Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:45:08.499Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:45:08.505Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:45:08.505Z"}
{"level":"error","message":"Failed to initialize template: Empty script contents","stack":"Error: Empty script contents\n    at new e.exports (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1974553)\n    at e.exports.createScript (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1989610)\n    at e.exports.addLogicFile (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1969263)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986410\n    at Array.forEach (<anonymous>)\n    at m.fromDirectory (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986312)\n    at async DraftService.initializeTemplate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:128:23)\n    at async DraftService.initialize (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:80:7)\n    at async DraftService.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:149:7)\n    at async main (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:636:5)","timestamp":"2025-06-23T21:45:16.797Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:47:44.793Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:47:44.854Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:47:44.865Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:47:44.866Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:47:44.872Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:47:44.872Z"}
{"level":"error","message":"Failed to initialize template: Empty script contents","stack":"Error: Empty script contents\n    at new e.exports (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1974553)\n    at e.exports.createScript (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1989610)\n    at e.exports.addLogicFile (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1969263)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986410\n    at Array.forEach (<anonymous>)\n    at m.fromDirectory (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986312)\n    at async DraftService.initializeTemplate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:120:23)\n    at async DraftService.initialize (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:80:7)\n    at async DraftService.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:136:7)\n    at async main (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:623:5)","timestamp":"2025-06-23T21:47:51.375Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:48:48.221Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:48:48.284Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:48:48.296Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:48:48.297Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:48:48.303Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:48:48.303Z"}
{"level":"error","message":"Failed to initialize template: Empty script contents","stack":"Error: Empty script contents\n    at new e.exports (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1974553)\n    at e.exports.createScript (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1989610)\n    at e.exports.addLogicFile (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1969263)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986410\n    at Array.forEach (<anonymous>)\n    at m.fromDirectory (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:1986312)\n    at async DraftService.initializeTemplate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:120:23)\n    at async DraftService.initialize (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:80:7)\n    at async DraftService.start (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:136:7)\n    at async main (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:623:5)","timestamp":"2025-06-23T21:48:54.056Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T21:49:45.020Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T21:49:45.082Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T21:49:45.094Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/deployments/late-delivery-and-penalty/late-delivery-and-penalty.json","timestamp":"2025-06-23T21:49:45.094Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:49:45.100Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T21:49:45.100Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-23T21:49:45.294Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-23T21:49:45.294Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-23T21:49:45.294Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-23T21:49:45.301Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-23T21:49:45.301Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-23T21:49:45.301Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T21:49:45.301Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T21:52:36.037Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T21:52:36.037Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T21:52:36.037Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500100000000000000fd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a226c6174652d64656c69766572792d636c617573652d31222c22666f7263654d616a65757265223a747275652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31322e352c2263617050657263656e74616765223a36302c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a32302c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227da160c79e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T21:52:36.037Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"info","message":"Successfully extracted template data!","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T21:52:36.038Z"}
{"level":"info","message":"Processing draft request 1750715556038 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T21:52:36.039Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T21:52:36.098Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T21:52:36.098Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T21:52:36.098Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T21:52:36.098Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750715556038-1750715557091.md","timestamp":"2025-06-23T21:52:37.091Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750715556038-1750715557091.md","timestamp":"2025-06-23T21:52:37.091Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T21:52:42.024Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T21:52:42.024Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T21:52:42.024Z"}
{"level":"info","message":"Draft result submitted for request 1750715556038: 0x7a3c2a677ca581ebca5a14a8b2a556d29eff5a48f7948fddd70fb955d8dfc25a","timestamp":"2025-06-23T21:52:42.035Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T21:52:48.020Z"}
{"level":"info","message":"Draft result finalized for request 1750715556038: 0x7a3c2a677ca581ebca5a14a8b2a556d29eff5a48f7948fddd70fb955d8dfc25a","timestamp":"2025-06-23T21:52:54.791Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:16:54.030Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:16:54.031Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:16:54.031Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f150","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:16:54.032Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:16:54.033Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:16:54.034Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:16:54.034Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:16:54.034Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:16:54.034Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:00.016Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:06.027Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:17:06.027Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:17:06.027Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f150","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:17:06.027Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:17:06.027Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:17:06.028Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:17:06.028Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:17:06.028Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:17:06.028Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:17:06.028Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:06.029Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:12.021Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:42.027Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:17:42.028Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:17:42.028Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1509a0c000000000000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:17:42.028Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:17:42.028Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:17:42.028Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:17:42.028Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:17:42.029Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:17:42.029Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:17:42.029Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:17:42.029Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:17:42.029Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:17:42.032Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:17:42.032Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:17:42.032Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0x9a0c00000000000001","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:17:42.033Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:42.034Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:17:48.016Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:18:12.034Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:18:12.035Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1509f0c000000000000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:18:12.035Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0x9f0c00000000000001","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:18:12.035Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:18:12.036Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:18:12.036Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:18:18.020Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:19:24.029Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:19:24.031Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:19:24.031Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500200000000000000fd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a226c6174652d64656c69766572792d636c617573652d31222c22666f7263654d616a65757265223a747275652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31322e352c2263617050657263656e74616765223a36302c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a32302c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227de7e9df9e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:19:24.032Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:19:24.032Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:19:24.032Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:19:24.033Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:19:24.033Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:19:24.033Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:19:24.033Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:19:24.034Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:19:24.034Z"}
{"level":"info","message":"Successfully extracted template data!","timestamp":"2025-06-23T22:19:24.034Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:19:24.034Z"}
{"level":"info","message":"Processing draft request 1750717164034 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:19:24.034Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:19:24.127Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:19:24.128Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:19:24.128Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:19:24.128Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750717164034-1750717164753.md","timestamp":"2025-06-23T22:19:24.753Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750717164034-1750717164753.md","timestamp":"2025-06-23T22:19:24.753Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:19:30.024Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:19:30.025Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:19:30.025Z"}
{"level":"info","message":"Draft result submitted for request 1750717164034: 0x70745c0eb770f2ca5df30458f97b138b4e56028f3e95a0c729514e4179ab3e83","timestamp":"2025-06-23T22:19:30.036Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:19:36.020Z"}
{"level":"info","message":"Draft result finalized for request 1750717164034: 0x70745c0eb770f2ca5df30458f97b138b4e56028f3e95a0c729514e4179ab3e83","timestamp":"2025-06-23T22:19:43.203Z"}
{"level":"info","message":"Received SIGINT, shutting down gracefully...","timestamp":"2025-06-23T22:21:22.208Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:21:34.724Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:21:34.791Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:23:43.406Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:23:43.469Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:24:33.114Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:24:33.177Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T22:24:33.188Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-23T22:24:33.190Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:24:33.196Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T22:24:33.196Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-23T22:24:33.418Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-23T22:24:33.418Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-23T22:24:33.418Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-23T22:24:33.426Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-23T22:24:33.426Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-23T22:24:33.426Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:24:33.427Z"}
{"level":"info","message":"Received SIGINT, shutting down gracefully...","timestamp":"2025-06-23T22:26:37.705Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:26:43.391Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:26:43.453Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T22:26:43.465Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-23T22:26:43.466Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:26:43.472Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T22:26:43.472Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-23T22:26:44.124Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-23T22:26:44.125Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-23T22:26:44.125Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-23T22:26:44.133Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-23T22:26:44.133Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-23T22:26:44.133Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:26:44.133Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:27:18.024Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:27:18.025Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500300000000000000a5012020207b226275796572223a2022416c69636520436f7270222c202273656c6c6572223a2022426f6220496e6475737472696573222c202264656c697665727944617465223a2022323032342d30312d3135222c202270656e616c747952617465223a20223525227d7225e79e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"JSON start position:","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"warn","message":"Could not find JSON in hex data","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:27:18.025Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:27:18.026Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:27:24.016Z"}
{"level":"info","message":"Received SIGINT, shutting down gracefully...","timestamp":"2025-06-23T22:29:12.908Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:29:17.883Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:29:17.944Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T22:29:17.956Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-23T22:29:17.957Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:29:17.964Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T22:29:17.964Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-23T22:29:18.221Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-23T22:29:18.221Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-23T22:29:18.221Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-23T22:29:18.228Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-23T22:29:18.228Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-23T22:29:18.228Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:29:18.229Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:30:00.032Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:30:00.033Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:30:00.033Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500400000000000000a5012020207b226275796572223a2022416c69636520436f7270222c202273656c6c6572223a2022426f6220496e6475737472696573222c202264656c697665727944617465223a2022323032342d30312d3135222c202270656e616c747952617465223a20223525227d499ee99e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:30:00.034Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"info","message":"Processing draft request 1750717800035 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:30:00.035Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:30:00.057Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:30:00.057Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:30:00.057Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:30:00.058Z"}
{"level":"error","message":"Error processing draft request 1750717800035: Invalid JSON data. Does not contain a $class type identifier.","stack":"Error: Invalid JSON data. Does not contain a $class type identifier.\n    at Serializer.fromJSON (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/concerto-core/lib/serializer.js:158:19)\n    at TemplateMarkInterpreter.generate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/template-engine/dist/index.js:987:37)\n    at TemplateArchiveProcessor.draft (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/template-engine/dist/index.js:1027:37)\n    at DraftService.processDraftRequest (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:520:58)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:283:32\n    at Type.forEach (<anonymous>)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:158:14\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@polkadot/api/cjs/promise/decorateMethod.js:60:40\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@polkadot/util/cjs/nextTick.js:16:13","timestamp":"2025-06-23T22:30:00.058Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:30:06.027Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:30:06.028Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:30:06.028Z"}
{"level":"info","message":"Draft error submitted for request 1750717800035: 0x25c70177d97368b5f0ae404efd8de14901c5af996f5db62d75b1ae0d46720186","timestamp":"2025-06-23T22:30:06.040Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:30:12.014Z"}
{"level":"info","message":"Draft error finalized for request 1750717800035: 0x25c70177d97368b5f0ae404efd8de14901c5af996f5db62d75b1ae0d46720186","timestamp":"2025-06-23T22:30:19.772Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:32:06.030Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:32:06.030Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:32:06.030Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500500000000000000dd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227d768aeb9e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:32:06.031Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:32:06.033Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:32:06.033Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:32:06.033Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-23T22:32:06.033Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:32:06.033Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-23T22:32:06.034Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:32:06.035Z"}
{"level":"info","message":"Processing draft request 1750717926035 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:32:06.035Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:32:06.080Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:32:06.080Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:32:06.080Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:32:06.080Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750717926035-1750717927094.md","timestamp":"2025-06-23T22:32:07.095Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750717926035-1750717927094.md","timestamp":"2025-06-23T22:32:07.095Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:32:12.032Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:32:12.032Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:32:12.032Z"}
{"level":"info","message":"Draft result submitted for request 1750717926035: 0xb8a0439cb7aabfdfbb031ab8e2c7fee16fa6ba3b599ca04d8ad9115aa1579593","timestamp":"2025-06-23T22:32:12.041Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:32:18.022Z"}
{"level":"info","message":"Draft result finalized for request 1750717926035: 0xb8a0439cb7aabfdfbb031ab8e2c7fee16fa6ba3b599ca04d8ad9115aa1579593","timestamp":"2025-06-23T22:32:25.788Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:34:42.025Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:34:42.025Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:34:42.026Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500600000000000000dd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227dd4ebed9e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:34:42.026Z"}
{"level":"info","message":"Processing draft request 1750718082027 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:34:42.027Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:34:42.051Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:34:42.051Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:34:42.051Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:34:42.051Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750718082027-1750718082611.md","timestamp":"2025-06-23T22:34:42.611Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750718082027-1750718082611.md","timestamp":"2025-06-23T22:34:42.611Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:34:48.028Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:34:48.028Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:34:48.028Z"}
{"level":"info","message":"Draft result submitted for request 1750718082027: 0x459750ba9c4ed77b73332d992cada9037d535d8c9cc28f9c09c0e7977c5a69b2","timestamp":"2025-06-23T22:34:48.041Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:34:54.022Z"}
{"level":"info","message":"Draft result finalized for request 1750718082027: 0x459750ba9c4ed77b73332d992cada9037d535d8c9cc28f9c09c0e7977c5a69b2","timestamp":"2025-06-23T22:35:01.262Z"}
{"level":"info","message":"Received SIGINT, shutting down gracefully...","timestamp":"2025-06-23T22:38:02.833Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-23T22:38:09.276Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-23T22:38:09.336Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-23T22:38:09.348Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-23T22:38:09.350Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:38:09.356Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-23T22:38:09.356Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-23T22:38:09.542Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-23T22:38:09.542Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-23T22:38:09.542Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-23T22:38:09.548Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-23T22:38:09.548Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-23T22:38:09.549Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:38:09.549Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:40:42.038Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:40:42.038Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:40:42.038Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500700000000000000f1057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a227374726963742d636f6e74726163742d303031222c22666f7263654d616a65757265223a747275652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a312c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a32352e302c2263617050657263656e74616765223a37352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a372c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a22686f757273227d126af39e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-23T22:40:42.039Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-23T22:40:42.040Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:40:42.040Z"}
{"level":"info","message":"Processing draft request 1750718442040 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:40:42.040Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:40:42.102Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:40:42.102Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:40:42.102Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:40:42.102Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750718442040-1750718442974.md","timestamp":"2025-06-23T22:40:42.974Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750718442040-1750718442974.md","timestamp":"2025-06-23T22:40:42.975Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:40:48.033Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:40:48.033Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:40:48.034Z"}
{"level":"info","message":"Draft result submitted for request 1750718442040: 0xa403a0fda641cfce2ccd48d730d8d59fcfe3cae0e1dab55992b2ab226f462c91","timestamp":"2025-06-23T22:40:48.045Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:40:54.028Z"}
{"level":"info","message":"Draft result finalized for request 1750718442040: 0xa403a0fda641cfce2ccd48d730d8d59fcfe3cae0e1dab55992b2ab226f462c91","timestamp":"2025-06-23T22:41:01.795Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:41:30.032Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-23T22:41:30.033Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-23T22:41:30.033Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500800000000000000f5057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a226c656e69656e742d636f6e74726163742d303032222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a372c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a322e352c2263617050657263656e74616765223a32352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a33302c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227d9525f49e97010000","level":"debug","message":"Event data:","timestamp":"2025-06-23T22:41:30.033Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-23T22:41:30.035Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-23T22:41:30.036Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-23T22:41:30.036Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"info","message":"Processing draft request 1750718490037 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-23T22:41:30.037Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-23T22:41:30.074Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-23T22:41:30.074Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:41:30.074Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:41:30.074Z"}
{"level":"info","message":"Draft generated and saved to: generated-documents/contract-1750718490037-1750718490616.md","timestamp":"2025-06-23T22:41:30.616Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750718490037-1750718490616.md","timestamp":"2025-06-23T22:41:30.616Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:41:36.025Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-23T22:41:36.025Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-23T22:41:36.025Z"}
{"level":"info","message":"Draft result submitted for request 1750718490037: 0xb96185787178730e43c49775337418cc59503fef34f6259d5bfba0971069741a","timestamp":"2025-06-23T22:41:36.037Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-23T22:41:42.022Z"}
{"level":"info","message":"Draft result finalized for request 1750718490037: 0xb96185787178730e43c49775337418cc59503fef34f6259d5bfba0971069741a","timestamp":"2025-06-23T22:41:48.714Z"}
{"level":"info","message":"Received SIGINT, shutting down gracefully...","timestamp":"2025-06-23T22:42:30.855Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T18:59:59.241Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T18:59:59.316Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T18:59:59.328Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T18:59:59.330Z"}
{"level":"info","message":"Contract initialized: 5FL81Ugr5Fp8bhPThxNRNdKkykvSnSDwWDmjZDLSvSDuaQMB","timestamp":"2025-06-24T18:59:59.337Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T18:59:59.337Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T18:59:59.673Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T18:59:59.674Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T18:59:59.674Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T18:59:59.681Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-24T18:59:59.681Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-24T18:59:59.681Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T18:59:59.681Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:01:36.029Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:01:36.029Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:01:36.029Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500900000000000000dd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227d852e51a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:01:36.029Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:01:36.030Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:01:42.018Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T19:04:41.523Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T19:04:41.594Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T19:04:41.605Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T19:04:41.607Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-24T19:04:41.614Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T19:04:41.614Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T19:04:42.057Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T19:04:42.058Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T19:04:42.058Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T19:04:42.065Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T19:05:20.296Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T19:05:20.358Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T19:05:20.369Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T19:05:20.370Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-24T19:05:20.378Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T19:05:20.378Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T19:05:20.506Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T19:05:20.506Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T19:05:20.507Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T19:05:20.514Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-24T19:05:20.514Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-24T19:05:20.514Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:05:20.514Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T19:07:33.182Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T19:07:33.247Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T19:07:33.259Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T19:07:33.259Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-24T19:07:33.268Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T19:07:33.268Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T19:07:33.580Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T19:07:33.580Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T19:07:33.580Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T19:07:33.589Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-24T19:07:33.590Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-24T19:07:33.590Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:07:33.590Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:08:00.040Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:08:00.041Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500a00000000000000dd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227d890a57a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:08:00.041Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"info","message":"Processing draft request 1750792080042 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS (format: md)","timestamp":"2025-06-24T19:08:00.042Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:08:00.104Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:08:00.104Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:08:00.104Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:08:00.104Z"}
{"level":"info","message":"Markdown generated and saved to: generated-documents/contract-1750792080042-1750792081166.md","timestamp":"2025-06-24T19:08:01.166Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750792080042-1750792081166.md","timestamp":"2025-06-24T19:08:01.167Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:08:06.023Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:08:06.023Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-24T19:08:06.023Z"}
{"level":"info","message":"Draft result submitted for request 1750792080042: 0xfb83a4241f1358f8a6b74dd04337b72e8746239f537a2fc43134dc6c67c5f7ad","timestamp":"2025-06-24T19:08:06.034Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:08:12.027Z"}
{"level":"info","message":"Draft result finalized for request 1750792080042: 0xfb83a4241f1358f8a6b74dd04337b72e8746239f537a2fc43134dc6c67c5f7ad","timestamp":"2025-06-24T19:08:19.435Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T19:09:30.690Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T19:09:30.752Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T19:09:30.764Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T19:09:30.765Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-24T19:09:30.774Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T19:09:30.774Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T19:09:31.032Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T19:09:31.032Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T19:09:31.032Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T19:09:31.041Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-24T19:09:31.041Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-24T19:09:31.041Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:09:31.042Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:10:00.029Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:10:00.029Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:10:00.029Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500b00000000000000dd057b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973227d50df58a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-24T19:10:00.030Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-24T19:10:00.031Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-24T19:10:00.031Z"}
{"level":"info","message":"Processing draft request 1750792200031 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS (format: pdf)","timestamp":"2025-06-24T19:10:00.031Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:10:00.099Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:10:00.099Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:10:00.099Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:10:00.099Z"}
{"level":"info","message":"Converting markdown to PDF...","timestamp":"2025-06-24T19:10:00.992Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:10:06.006Z"}
{"level":"info","message":"PDF generated and saved to: generated-documents/contract-1750792200031-1750792200992.pdf","timestamp":"2025-06-24T19:10:10.305Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750792200031-1750792200992.pdf","timestamp":"2025-06-24T19:10:10.305Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:10:12.026Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:10:12.027Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-24T19:10:12.027Z"}
{"level":"info","message":"Draft result submitted for request 1750792200031: 0x5af7a7299e225b3ed656d80e723569d60c0299eb01b9fd6d8f39d99e65db1fe9","timestamp":"2025-06-24T19:10:12.039Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:10:18.022Z"}
{"level":"info","message":"Draft result finalized for request 1750792200031: 0x5af7a7299e225b3ed656d80e723569d60c0299eb01b9fd6d8f39d99e65db1fe9","timestamp":"2025-06-24T19:10:25.437Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:18:00.029Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:18:00.030Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500c0000000000000031067b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973222c225f6f7574707574466f726d6174223a226d64227d483260a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-24T19:18:00.030Z"}
{"level":"info","message":"Processing draft request 1750792680031 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS (format: pdf)","timestamp":"2025-06-24T19:18:00.031Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:18:00.045Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:18:00.045Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:18:00.045Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:18:00.045Z"}
{"component":"@accordproject/concerto-util","errorType":"DefaultBaseException","level":"error","message":"Error processing draft request 1750792680031: Unexpected properties for type io.clause.latedeliveryandpenalty@0.1.0.LateDeliveryAndPenalty: _outputFormat","name":"ValidationException","stack":"ValidationException: Unexpected properties for type io.clause.latedeliveryandpenalty@0.1.0.LateDeliveryAndPenalty: _outputFormat\n    at validateProperties (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/concerto-core/lib/serializer/jsonpopulator.js:76:15)\n    at JSONPopulator.visitClassDeclaration (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/concerto-core/lib/serializer/jsonpopulator.js:150:9)\n    at JSONPopulator.visit (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/concerto-core/lib/serializer/jsonpopulator.js:123:25)\n    at e.exports.accept (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/cicero-core/dist/cicero-core.js:2:41347)\n    at Serializer.fromJSON (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/concerto-core/lib/serializer.js:195:26)\n    at TemplateMarkInterpreter.generate (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/template-engine/dist/index.js:987:37)\n    at TemplateArchiveProcessor.draft (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@accordproject/template-engine/dist/index.js:1027:37)\n    at DraftService.processDraftRequest (/Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:524:58)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:285:32\n    at Type.forEach (<anonymous>)\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/src/index.js:160:14\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@polkadot/api/cjs/promise/decorateMethod.js:60:40\n    at /Users/martinhalford/Development/halfordit/concerto-codegen-rust/draft-service/node_modules/@polkadot/util/cjs/nextTick.js:16:13","timestamp":"2025-06-24T19:18:00.049Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:18:06.027Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:18:06.028Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-24T19:18:06.028Z"}
{"level":"info","message":"Draft error submitted for request 1750792680031: 0xace066a3bd39022b4be5bfd28ee4065a2d458af35184b8dff886f7f953b8d74d","timestamp":"2025-06-24T19:18:06.042Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:18:12.016Z"}
{"level":"info","message":"Draft error finalized for request 1750792680031: 0xace066a3bd39022b4be5bfd28ee4065a2d458af35184b8dff886f7f953b8d74d","timestamp":"2025-06-24T19:18:19.944Z"}
{"level":"info","message":"Initializing Draft Service...","timestamp":"2025-06-24T19:20:17.568Z"}
{"level":"info","message":"Connected to Substrate node: ws://localhost:9944","timestamp":"2025-06-24T19:20:17.631Z"}
{"level":"info","message":"Service account initialized: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","timestamp":"2025-06-24T19:20:17.643Z"}
{"level":"info","message":"Contract ABI loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/inkathon/contracts/late-delivery-and-penalty/deployments/late-delivery-and-penalty.json","timestamp":"2025-06-24T19:20:17.644Z"}
{"level":"info","message":"Contract initialized: 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","timestamp":"2025-06-24T19:20:17.652Z"}
{"level":"info","message":"Documents directory initialized: ./generated-documents","timestamp":"2025-06-24T19:20:17.653Z"}
{"level":"info","message":"Template loaded from: /Users/martinhalford/Development/halfordit/concerto-codegen-rust/archives/latedeliveryandpenalty","timestamp":"2025-06-24T19:20:17.840Z"}
{"level":"info","message":"Draft Service initialization complete","timestamp":"2025-06-24T19:20:17.840Z"}
{"level":"info","message":"Starting to listen for DraftRequested events...","timestamp":"2025-06-24T19:20:17.840Z"}
{"level":"info","message":"Draft Service started successfully","timestamp":"2025-06-24T19:20:17.848Z"}
{"level":"info","message":"Draft Service is running...","timestamp":"2025-06-24T19:20:17.848Z"}
{"level":"info","message":"Health server running on port 3001","timestamp":"2025-06-24T19:20:17.848Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:20:17.848Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:06.024Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:21:06.024Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:21:06.024Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500d0000000000000031067b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973222c225f6f7574707574466f726d6174223a226d64227dd20863a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:21:06.025Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-24T19:21:06.028Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-24T19:21:06.029Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-24T19:21:06.029Z"}
{"level":"debug","message":"Original template data:","timestamp":"2025-06-24T19:21:06.030Z"}
{"level":"debug","message":"Cleaned template data:","timestamp":"2025-06-24T19:21:06.030Z"}
{"level":"debug","message":"Requested format:","timestamp":"2025-06-24T19:21:06.030Z"}
{"level":"info","message":"Processing draft request 1750792866029 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS (format: md)","timestamp":"2025-06-24T19:21:06.030Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:21:06.079Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:21:06.079Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:21:06.079Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:06.079Z"}
{"level":"info","message":"Markdown generated and saved to: generated-documents/contract-1750792866029-1750792866974.md","timestamp":"2025-06-24T19:21:06.974Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750792866029-1750792866974.md","timestamp":"2025-06-24T19:21:06.975Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:12.025Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:21:12.025Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-24T19:21:12.025Z"}
{"level":"info","message":"Draft result submitted for request 1750792866029: 0x27a1025d165e01da0777201dc8568c159bceb7735e5431718d5661dddc23685a","timestamp":"2025-06-24T19:21:12.041Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:18.022Z"}
{"level":"info","message":"Draft result finalized for request 1750792866029: 0x27a1025d165e01da0777201dc8568c159bceb7735e5431718d5661dddc23685a","timestamp":"2025-06-24T19:21:24.876Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:48.032Z"}
{"level":"debug","message":"Event received: contracts.ContractEmitted","timestamp":"2025-06-24T19:21:48.033Z"}
{"level":"debug","message":"ContractEmitted event detected","timestamp":"2025-06-24T19:21:48.033Z"}
{"contract":"5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS","data":"0xf62d927d83fcc9585424c2898bca58f1c7e756488410ce662bae03f01669f1500e0000000000000035067b2224636c617373223a22696f2e636c617573652e6c61746564656c6976657279616e6470656e616c747940302e312e302e4c61746544656c6976657279416e6450656e616c7479222c22636c617573654964223a22746573742d636c617573652d31222c22666f7263654d616a65757265223a66616c73652c2270656e616c74794475726174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a332c22756e6974223a2264617973227d2c2270656e616c747950657263656e74616765223a31302e352c2263617050657263656e74616765223a35352c227465726d696e6174696f6e223a7b2224636c617373223a226f72672e6163636f726470726f6a6563742e74696d6540302e332e302e4475726174696f6e222c22616d6f756e74223a31352c22756e6974223a2264617973227d2c226672616374696f6e616c50617274223a2264617973222c225f6f7574707574466f726d6174223a22706466227de6ac63a397010000","level":"debug","message":"Event data:","timestamp":"2025-06-24T19:21:48.033Z"}
{"level":"debug","message":"Contract address:","timestamp":"2025-06-24T19:21:48.035Z"}
{"level":"debug","message":"Raw hex data:","timestamp":"2025-06-24T19:21:48.035Z"}
{"level":"debug","message":"Full human data:","timestamp":"2025-06-24T19:21:48.035Z"}
{"level":"debug","message":"Raw data:","timestamp":"2025-06-24T19:21:48.035Z"}
{"level":"info","message":"Event is from our contract, parsing hex data...","timestamp":"2025-06-24T19:21:48.035Z"}
{"level":"debug","message":"Buffer as string (first 200 chars):","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Buffer length:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Looking for JSON pattern...","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Found JSON hex pattern at position:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Potential JSON string:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"info","message":"Successfully extracted template data via hex!","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Template JSON:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Original template data:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Cleaned template data:","timestamp":"2025-06-24T19:21:48.036Z"}
{"level":"debug","message":"Requested format:","timestamp":"2025-06-24T19:21:48.037Z"}
{"level":"info","message":"Processing draft request 1750792908036 from 5C6u9c9e1RdzzdDAGQRKZBhsiAdMK1BCsy8qTsZUY2YhNQqS (format: pdf)","timestamp":"2025-06-24T19:21:48.037Z"}
{"level":"debug","message":"Event received: contracts.Called","timestamp":"2025-06-24T19:21:48.074Z"}
{"level":"debug","message":"Event received: contracts.StorageDepositTransferredAndHeld","timestamp":"2025-06-24T19:21:48.074Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:21:48.074Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:48.074Z"}
{"level":"info","message":"Converting markdown to PDF...","timestamp":"2025-06-24T19:21:48.627Z"}
{"level":"info","message":"PDF generated and saved to: generated-documents/contract-1750792908036-1750792908627.pdf","timestamp":"2025-06-24T19:21:52.732Z"}
{"level":"info","message":"Document accessible at: http://localhost:3001/documents/contract-1750792908036-1750792908627.pdf","timestamp":"2025-06-24T19:21:52.733Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:21:54.028Z"}
{"level":"debug","message":"Event received: transactionPayment.TransactionFeePaid","timestamp":"2025-06-24T19:21:54.029Z"}
{"level":"debug","message":"Event received: system.ExtrinsicFailed","timestamp":"2025-06-24T19:21:54.029Z"}
{"level":"info","message":"Draft result submitted for request 1750792908036: 0x88fff34916d446eded33a307a541b959c7ca85c0cfa877a72b93bc63f1053b88","timestamp":"2025-06-24T19:21:54.044Z"}
{"level":"debug","message":"Event received: system.ExtrinsicSuccess","timestamp":"2025-06-24T19:22:00.021Z"}
{"level":"info","message":"Draft result finalized for request 1750792908036: 0x88fff34916d446eded33a307a541b959c7ca85c0cfa877a72b93bc63f1053b88","timestamp":"2025-06-24T19:22:07.745Z"}
